schema: '2.0'
stages:
  process:
    cmd: python src/process.py
    deps:
    - path: downloaded
      hash: md5
      md5: 2eb7186863987ad0594d1a46447e3d9e.dir
      size: 25573820
      nfiles: 3
    - path: src/process.py
      hash: md5
      md5: f7177b37799b843560edf4b2b27d690c
      size: 2488
    params:
      params.yaml:
        base.EXPECTED_COLUMNS:
        - HourlyDryBulbTemperature
        base.YEAR: 2023
        process.INPUT_PATH: downloaded
        process.OUTPUT_FILE_NAME: processed_averages.json
        process.OUTPUT_PATH: processed
    outs:
    - path: processed
      hash: md5
      md5: 3bd0f8b808d3d028c73a4f86f19906fc.dir
      size: 393
      nfiles: 1
  prepare:
    cmd: python src/prepare.py
    deps:
    - path: downloaded
      hash: md5
      md5: 2eb7186863987ad0594d1a46447e3d9e.dir
      size: 25573820
      nfiles: 3
    - path: src/prepare.py
      hash: md5
      md5: 24675d76a67d96bb8b73534c96122393
      size: 2333
    params:
      params.yaml:
        base.GT_COLUMNS:
        - MonthlyMeanTemperature
        prepare.INPUT_PATH: downloaded
        prepare.OUTPUT_FILE_NAME: actual_averages.json
        prepare.OUTPUT_PATH: prepared
    outs:
    - path: prepared
      hash: md5
      md5: f71e53d91663c6d084ae4063747c661e.dir
      size: 366
      nfiles: 1
  evaluate:
    cmd: python src/evaluate.py
    deps:
    - path: prepared
      hash: md5
      md5: f71e53d91663c6d084ae4063747c661e.dir
      size: 366
      nfiles: 1
    - path: processed
      hash: md5
      md5: 3bd0f8b808d3d028c73a4f86f19906fc.dir
      size: 393
      nfiles: 1
    - path: src/evaluate.py
      hash: md5
      md5: 25cb1920354cecea1d84fdc86791f4fc
      size: 2931
    params:
      params.yaml:
        base.MAPPING:
          HourlyDryBulbTemperature: MonthlyMeanTemperature
        evaluate.INPUT_FILE_NAMES:
        - processed_averages.json
        - actual_averages.json
        evaluate.INPUT_PATHS:
        - processed
        - prepared
    outs:
    - path: eval/live/metrics.json
      hash: md5
      md5: fc9b464a9e0385cb6d094c0ddb9d5e0b
      size: 47
      isexec: true
  download:
    cmd: python src/download.py
    deps:
    - path: src/download.py
      hash: md5
      md5: 0252619fff035f66df5cb65e65c57f5a
      size: 3351
    params:
      params.yaml:
        base.BASE_URL: https://www.ncei.noaa.gov/data/local-climatological-data/access/
        base.EXPECTED_COLUMNS:
        - HourlyDryBulbTemperature
        base.GT_COLUMNS:
        - MonthlyMeanTemperature
        base.N_LOCATIONS: 3
        base.YEAR: 2023
        download.DOWNLOAD_PATH: downloaded
        download.SEED: 40
    outs:
    - path: downloaded
      hash: md5
      md5: 2eb7186863987ad0594d1a46447e3d9e.dir
      size: 25573820
      nfiles: 3
