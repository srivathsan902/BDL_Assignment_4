schema: '2.0'
stages:
  process:
    cmd: python src/process.py
    deps:
    - path: downloaded
      hash: md5
      md5: 732a56b104f7c7b052b3cac557237ae1.dir
      size: 28134331
      nfiles: 3
    - path: src/process.py
      hash: md5
      md5: f7177b37799b843560edf4b2b27d690c
      size: 2488
    params:
      params.yaml:
        base.EXPECTED_COLUMNS:
        - HourlyDryBulbTemperature
        base.YEAR: 2023
        process.INPUT_PATH: downloaded
        process.OUTPUT_FILE_NAME: processed_averages.json
        process.OUTPUT_PATH: processed
    outs:
    - path: processed
      hash: md5
      md5: 56fc338c212f3b145a33a14721d300d1.dir
      size: 390
      nfiles: 1
  prepare:
    cmd: python src/prepare.py
    deps:
    - path: downloaded
      hash: md5
      md5: 732a56b104f7c7b052b3cac557237ae1.dir
      size: 28134331
      nfiles: 3
    - path: src/prepare.py
      hash: md5
      md5: 24675d76a67d96bb8b73534c96122393
      size: 2333
    params:
      params.yaml:
        base.GT_COLUMNS:
        - MonthlyMeanTemperature
        prepare.INPUT_PATH: downloaded
        prepare.OUTPUT_FILE_NAME: actual_averages.json
        prepare.OUTPUT_PATH: prepared
    outs:
    - path: prepared
      hash: md5
      md5: d2b19eb03f1bbab4de9ebdf410ff7c58.dir
      size: 361
      nfiles: 1
  evaluate:
    cmd: python src/evaluate.py
    deps:
    - path: prepared
      hash: md5
      md5: d2b19eb03f1bbab4de9ebdf410ff7c58.dir
      size: 361
      nfiles: 1
    - path: processed
      hash: md5
      md5: 56fc338c212f3b145a33a14721d300d1.dir
      size: 390
      nfiles: 1
    - path: src/evaluate.py
      hash: md5
      md5: 25cb1920354cecea1d84fdc86791f4fc
      size: 2931
    params:
      params.yaml:
        base.MAPPING:
          HourlyDryBulbTemperature: MonthlyMeanTemperature
        evaluate.INPUT_FILE_NAMES:
        - processed_averages.json
        - actual_averages.json
        evaluate.INPUT_PATHS:
        - processed
        - prepared
    outs:
    - path: eval/live/metrics.json
      hash: md5
      md5: bbcc545af148cb379211764965f62f8c
      size: 47
      isexec: true
  download:
    cmd: python src/download.py
    deps:
    - path: src/download.py
      hash: md5
      md5: 0252619fff035f66df5cb65e65c57f5a
      size: 3351
    params:
      params.yaml:
        base.BASE_URL: https://www.ncei.noaa.gov/data/local-climatological-data/access/
        base.EXPECTED_COLUMNS:
        - HourlyDryBulbTemperature
        base.GT_COLUMNS:
        - MonthlyMeanTemperature
        base.N_LOCATIONS: 3
        base.YEAR: 2023
        download.DOWNLOAD_PATH: downloaded
        download.SEED: 42
    outs:
    - path: downloaded
      hash: md5
      md5: 732a56b104f7c7b052b3cac557237ae1.dir
      size: 28134331
      nfiles: 3
